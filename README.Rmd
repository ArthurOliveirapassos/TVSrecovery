---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# TVSrecovery

<!-- badges: start -->
<!-- badges: end -->

O pacote **TVSrecovery** foi desenvolvido para identificar, extrair e visualizar **TVSs (Telomeric Variant Sequences)** em reads ou sequências genômicas. Ele combina funções para:

- Buscar repetições teloméricas canônicas e variantes em arquivos FASTA.
- Identificar TVSs entre repetições canônicas consecutivas.
- Processar fita direta e complementar automaticamente.
- Gerar gráficos de barras das variantes mais frequentes.
- Gerar gráfico de pizza mostrando a proporção entre repetições canônicas e variantes.

O pacote facilita fluxos de trabalho envolvendo análise de telômeros e suas variações, especialmente em organismos que apresentam TVSs relevantes biologicamente.

## Installation

Você pode instalar a versão de desenvolvimento diretamente do GitHub usando:

``` r
# install.packages("pak")
pak::pak("ArthurOliveirapassos/TVSrecovery")
```

## Funções Principais

### `Telomeresfinder()`
Identifica sequências que contêm **N repetições canônicas consecutivas** (incluindo reverso, complementar e reverso-complementar) em arquivos FASTA.

### `detect_TVS()`
Extrai repetições teloméricas canônicas e identifica variantes entre repetições consecutivas.

### `plot_TVS()`
Gera dois gráficos:
- **Barras**: variantes frequentes.
- **Pizza**: proporção entre repetições canônicas e variantes.

## Exemplo de Uso


```{r example}
devtools::load_all()
library(TVSrecovery)

# 1. Encontrar sequências com repetições canônicas
Telomeresfinder(
  fasta_file = "inst/extdata/example.fasta",
  telomere_repeat = "TTAGGG",
  min_repeats = 3,
  output_fasta = "inst/extdata/telomere_hits.fasta"
)

# 2. Detectar TVSs
resultado <- detect_TVS(
  arquivo_fasta = "inst/extdata/telomere_hits.fasta",
  repeticao_canon = "TTAGGG"
)

# 3. Plotar resultados
graficos <- plot_TVS(resultado)
graficos$bar_plot
graficos$pie_plot
```
